## 金蝶云苍穹

**动态微服务架构：**

![image-20230104114203266](/kindeeImg/kindee01.png)

**无状态服务的实现：**

![image-20230104131913822](/kindeeImg/kindee02.png)



高性能架构——多级**缓存服务：**

![image-20230104132025012](/kindeeImg/kindee03.png)

#### 开发概述

- 开发环境版本
- 环境搭建
- 开发产物及管理
- 补丁制作与升级
- 迭代流程
- 学习资源及渠道

### 云和应用设计

1. 业务划分
2. 微服务划分
3. 数据库分库
4. 项目工程设计

### “云”的定义

1. 一个完整的业务领域解决方案
2. 一个业务云中可包括多个应用
3. 一个业务云与其他业务云可有业务相关性
4. 通常一个业务云的数据存放在同一个数据库，也支持将结构业务云数据存放在一个数据库

### “应用”的定义

1. 一个可独立使用的业务、或者是一组具有相同意义的功能
2. 在企业应用迭代时，可以选择一个业务云中的不同应用进行实施、升级和迭代
3. **微服务的最小粒度是应用（高内聚、低耦合）**
4. 应用划分应尽量避免跨应用的写操作
5. 应用是整个业务云进行分类管理的根本（页面、功能）

### 总结

1. “云”和“应用”设计决定了系统的业务划分
2. “应用”的划分除了通用标准外，防止业务跨库写是重要标准
3. 一个“应用”就是一个微服务
4. 一个"应用"可以独立部署在一个容器中，也可以多个“应用”部署在一个容器中
5. 分库推荐按”云“做垂直分库，一个”云“中所有”应用“都指定到同一个库中 
6. 只有“应用”的业务完全独立，或数据量、并发量很大时才可以按“应用”分库 

### 页面建模

**通用列表的设计**

1. 单据列表控件属性：分页条数、缺省视图、已选合计字段；
2. 表格/卡片视图属性：分页隐藏、界面规则、折叠显示、折叠表单、工具栏位置
3. 、表格列表字段属性：排序、汇总方式
4. 列表控制在运行态，列表的左上角调整，可设置隐藏/冻结指定列，隐藏序号列、数值列尾零显示、禁止操作后刷新列表数据、同一单据拆分显示、交替行显示、未勾选时引出列表全部数据

**动态表单的设计**

1. 动态表单是苍穹平台中最基本的页面类型
2. 数据存储和查询都需要通过插件自行完成
3. 动态表单的业务属性可参考单据上相应的属性

##### 移动界面开发

1. 移动端对于控件的使用与PC端大致相同
2. 善用移动端页面布局中的场景卡片等平台提供的块状模板，可以快速实现页面布局
3. 在设计移动端页面时候善于使用Flex面板，卡片界面善于使用卡片布局容器这样可以针对不同模块做不同的样式调整
4. 移动端的多数逻辑要通过插件实现，内置的方法使用与PC端基本一致，如果想要其他扩展功能可以去实现对应接口方法。